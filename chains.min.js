(function(){var d=function(g){this.head=[],this.tail=[];if(typeof g=="undefined"){g=false}this.factory=g;this.isChain=true};d.prototype.chain=function(){return(this.factory)?new d():this};d.prototype.tag=function(){var n=this.chain();if(arguments.length==0){throw"tag name must be the first argument"}var k=arguments[0].toLowerCase();var o=null,j={};if(arguments.length>1){var h=arguments[1];if(typeof(h)=="string"){o=h}else{if(!h.isChain){j=h}}}if(arguments.length>2){var g=arguments[2];if(!g.isChain){j=g}}if(o){j.id=o}n.head.push("<",k);for(var m in j){n.head.push(" ",m,'="',j[m],'"')}if(e.indexOf(k)!=-1){n.head.push("/>")}else{n.head.push(">");n.tail.splice(0,0,"</",k,">")}for(var l=0;l<arguments.length;l++){if(arguments[l].isChain){n.head.push(arguments[l].render())}}return n};d.prototype.text=function(h){var g=this.chain();g.head.push(h);return g};d.prototype.render=function(){return this.head.concat(this.tail).join("")};var f=["a","p","div","span","h1","h2","h3","h4","h5","h6","h7","pre","script","link","b","i","code","form","input","label","button","textarea","ul","ol","li","table","thead","tbody","tr","th","td"];var e=["hr","br","img"];var b=f.concat(e);for(var c=0;c<b.length;c++){var a=b[c];d.prototype[a]=(function(g){return function(){var h=[g];for(var j=0;j<arguments.length;j++){h.push(arguments[j])}return this.tag.apply(this,h)}})(a)}chains=new d(true)})();