(function(){var d=function(g){this.head=[],this.tail=[];if(typeof g=="undefined"){g=false}this.factory=g;this.isChain=true};d.prototype.chain=function(){return(this.factory)?new d():this};d.prototype.tag=function(){var l=this.chain();var h={};if(arguments.length==0){throw"tag name must be the first argument"}else{if(arguments.length==2){if(typeof arguments[1]=="string"){h.id=arguments[1]}else{h=arguments[1]}}else{if(arguments.length==3){h=arguments[2];h.id=arguments[1]}}}var g=arguments[0].toLowerCase();l.head.push("<",g);for(var k in h){l.head.push(" ",k,'="',h[k],'"')}if(e.indexOf(tag)!=-1){l.head.push("/>")}else{l.head.push(">");l.tail.splice(0,0,"</",g,">")}for(var j=0;j<arguments.length;j++){if(arguments[j].isChain){l.head.push(arguments[j].render())}}return l};d.prototype.text=function(h){var g=this.chain();g.head.push(h);return g};d.prototype.render=function(){return this.head.concat(this.tail).join("")};var f=["a","p","div","span","h1","h2","h3","h4","h5","h6","h7","pre","script","link","form","input","label","button","textarea","ul","ol","li"];var e=["hr","br","img"];var b=f.concat(e);for(var c=0;c<b.length;c++){var a=b[c];d.prototype[a]=(function(g){return function(){var h=[g];for(var j=0;j<arguments.length;j++){h.push(arguments[j])}return this.tag.apply(this,h)}})(a)}chains=new d(true)})();